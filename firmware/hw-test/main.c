/**
 * 
 */

#include "soc-hw.h"
int sen [500]={34,
31,
28,
29,
31,
30,
26,
19,
14,
14,
19,
26,
32,
37,
42,
44,
42,
35,
25,
17,
13,
12,
11,
10,
11,
19,
33,
49,
60,
63,
63,
63,
64,
62,
59,
53,
44,
33,
25,
19,
11,
4,
2,
2,
1,
1,
1,
1,
2,
2,
1,
1,
1,
1,
3,
10,
15,
17,
19,
22,
23,
24,
26,
28,
33,
39,
44,
50,
57,
62,
63,
63,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
62,
59,
60,
64,
65,
65,
63,
57,
48,
39,
31,
24,
20,
21,
29,
39,
50,
60,
64,
64,
64,
61,
51,
38,
27,
19,
9,
3,
2,
2,
2,
2,
1,
1,
1,
1,
1,
1,
1,
1,
1,
5,
13,
22,
29,
36,
40,
43,
44,
45,
46,
52,
60,
63,
64,
64,
64,
63,
59,
50,
40,
30,
28,
32,
41,
51,
58,
62,
62,
63,
64,
64,
64,
63,
58,
54,
51,
49,
46,
40,
33,
25,
18,
13,
8,
5,
2,
2,
5,
7,
8,
6,
5,
4,
4,
3,
1,
1,
1,
1,
1,
1,
1,
1,
0,
2,
6,
10,
11,
9,
7,
3,
1,
0,
0,
0,
0,
1,
4,
8,
10,
9,
11,
14,
18,
18,
17,
16,
17,
19,
22,
26,
29,
32,
35,
39,
43,
47,
50,
52,
57,
62,
63,
63,
63,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
65,
65,
65,
64,
61,
55,
51,
51,
53,
56,
58,
58,
59,
61,
64,
65,
65,
64,
60,
57,
56,
54,
54,
54,
54,
54,
53,
52,
50,
48,
47,
48,
49,
49,
49,
49,
51,
52,
51,
48,
44,
42,
41,
41,
40,
37,
32,
28,
23,
19,
16,
15,
14,
13,
11,
9,
10,
12,
14,
17,
19,
23,
26,
26,
24,
21,
17,
14,
13,
13,
12,
9,
6,
3,
2,
2,
3,
5,
9,
12,
14,
16,
18,
19,
20,
20,
20,
18,
16,
16,
15,
14,
10,
7,
8,
11,
13,
11,
8,
5,
5,
5,
5,
4,
2,
1,
0,
0,
1,
1,
1,
1,
1,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
1,
1,
1,
0,
0,
0,
0,
2,
8,
17,
24,
28,
30,
31,
31,
28,
21,
14,
10,
11,
14,
16,
18,
23,
31,
41,
50,
59,
62,
63,
63,
63,
63,
63,
63,
64,
64,
64,
64,
64,
64,
64,
64,
64,
64,
60,
57,
58,
61,
62,
62,
62,
63,
64,
64,
60,
55,
52,
54,
57,
59,
62,
64,
64,
65,
65,
64,
65,
62,
53,
45,
42,
44,
48,
50,
50,
51,
54,
58,
62,
64,
65,
65,
64,
62,
59,
55,
50,
46,
45,
47,
50,
52,
52,
51,
51,
53,
56,
59,
61,
61,
61,
62,
63,
64,
65,
64,
60,
53,
46,
42,
42,
45,
50,
56,
58,
57,
52,
44,
34,
24,
16};
int main()
{
	uint8_t  c;
	gpio0->oe = 0xFF;
	
	int result, mt;
	int N = 0;
	//int duracion = 100;	
	int unos, ceros;
	
/*for (mt=0; mt<duracion; mt++){	
result = 50*sin (mt*2*3.14/N)+50;
nsleep(20000);
}*/

	for(;;) {	

			c = gpio0->in;
			
	switch (c) {
    		case 0x01:
			
			for (N=0; N<200; N++){	
					  result = sen [N];
				  for(unos=0; unos<result; unos++){
						gpio0->out = 0x01;
						msleep (1);
					}
				for(ceros=result; ceros<100; ceros++){
					gpio0->out = 0x00;
					msleep (1);
					}
		  
	}

    			break;
		case 0x02:
			gpio0->out = 0x01;
			msleep(1);
			gpio0->out = 0x00;
			msleep(1);
    			break;
		case 0x04:
			gpio0->in;
			gpio0->out = 0x01;
			msleep(2);
			gpio0->out = 0x00;
			msleep(2);
    			break;
		
		case 0x08:
			gpio0->in;
			gpio0->out = 0x01;
			nsleep(20000);
			gpio0->out = 0x00;
			nsleep(20000);
    			break;
    		
		default: gpio0->out = 0x00;
			}
		
		gpio0->out=0x00;		
	
		}
}
//Botones del GPIO
	/*
		switch (c) {
    		case '1':
			gpio0->in;
			gpio0->out = 0xFF;
			nsleep(1000000);
			gpio0->out = 0x00;
			nsleep(1000000);
    			break;
		case '2':
			gpio0->in;
			gpio0->out = 0xFF;
			nsleep(100000);
			gpio0->out = 0x00;
			nsleep(100000);
    			break;
    		
		default: ('0');
			}

	}
*/

